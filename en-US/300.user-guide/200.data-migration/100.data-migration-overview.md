# Overview 

OceanBase Migration Service (OMS) Community Edition provides the data migration feature to help you migrate data between OceanBase Database and other data sources in real time. 

## Background information

OMS Community Edition supports online migration. The server deployed with OMS Community Edition must be able to connect to both source and destination database instances at the same time. You can start a data migration task simply after you configure the source and destination databases and select the objects to be migrated. 

OMS Community Edition automatically performs all the procedures in a data migration task, replicating the database objects, existing data, or incremental data in the source database (data table) to the destination database (data table). It also ensures the real-time synchronization of incremental data from the source database to the destination database.

## Supported migration processes

OMS Community Edition provides online data migration and real-time incremental data synchronization. The following migration processes are supported:

* Migrate data from a MySQL database to a MySQL tenant of OceanBase Database

* Migrate data from a MySQL tenant of OceanBase Database to a MySQL database
  
* Migrate data within OceanBase Database

## Supported migration types 


|      **Migration type**     |  **Description**      |
|-------------------------------|----|
| Schema migration              | The migration of the definitions of data objects (tables, indexes, constraints, comments, and views) from the source database to the destination OceanBase database. Temporary tables are automatically filtered out.  If the source database is not an OceanBase database, OMS Community Edition performs format conversion and encapsulation based on the syntax definition and standard of the tenant type of the destination OceanBase database, and then OMS Community Edition replicates the data to the destination OceanBase database.                                                    |
| Full migration                | The migration of the existing data from tables in the source database to corresponding tables in the OceanBase database. You can view table objects and table indexes on the **Full Migration** page. The status of the full migration changes to Completed only after migration of the table objects and table indexes is completed. On the **Table Indexes** page, you can click **View Creation Syntax** next to the target table object to view its index creation syntax.  You can combine full migration with incremental migration to ensure data consistency between the source and destination databases. If any objects failed to be migrated during a full migration, the causes of the failure are displayed.                |
| Incremental migration         | The migration of changed data of the source database to the corresponding table in OceanBase Database. Data changes include data addition, modification, and deletion.  When services are continuously writing data to the source database, OMS Community Edition starts the incremental data pull module to pull incremental data from the source instance, parses and encapsulates the incremental data, and then stores the data in OMS Community Edition, before it starts the full data migration.  After a full data migration task is completed, OMS Community Edition starts the incremental data replay module to pull incremental data from the incremental data pull module. The incremental data is synchronized to the destination instance after being filtered, mapped, and converted.                                             |
| Full verification             | After the full data migration and incremental data migration are completed, OMS Community Edition automatically initiates a full data verification task to verify the data tables in the source database and the tables in the destination database.  OMS Community Edition also provides corresponding APIs for you to initiate custom data verification tasks in the incremental data synchronization process.  You can view the information of specific columns where inconsistent data is detected. OMS Community Edition runs SQL scripts to correct the data in the destination database based on the data in the source database. The correction operation is not supported if the source database has no corresponding data.       |
| Forward switchover            | Before you start a forward switchover, make sure that the writing status of the source data source is either Stopping or Stopped. The process of a forward switchover is as follows:<ol><li>Initiate a synchronization switchover. In this step, the migration does not stop. You only confirm the switchover process that is about to start. </li>Perform switchover precheck You need to run a precheck to verify whether the current project status meets the switchover requirements.<li>Start the destination Store Start incremental data pulling in the destination database. Create and start a destination Store.<li>Confirm that writing is stopped in the source database You need to ensure that no incremental data is generated from the source database. <li>Confirm the writing stop timestamp upon synchronization completion OMS Community Edition automatically checks whether the source and destination databases are synchronized to the same timestamp.<li>Stop forward synchronization Stop the JDBCWriter from the source database to the destination database. <li>Process database objects In this step, the database objects are migrated, the additional columns and indexes added by OMS Community Edition are deleted, and the constraints that are automatically ignored during the schema migration are added. You also need to confirm that objects such as triggers and sequences have been manually migrated and that the triggers and foreign keys of the source are disabled.<li>Start reverse incremental migration Start the JDBCWriter from the destination database to the source database.   </ol> |
| Reverse incremental migration | After the migration is completed, you can start the incremental data synchronization link on the OMS Community Edition to synchronize the incremental data from the destination database to the source database (that is, in the reverse direction) before the business database switchover is completed for business cutover scenarios. Then, the changed data that occur in the destination OceanBase database after the business cutover are synchronized to the source business database in real time.  You can check the performance of the reverse synchronization on OMS Community Edition, including:<ul> <li>Latency: The time consumed to synchronize changed incremental data from the destination database to the source database in the unit of seconds. <li>Migration traffic: The traffic throughput of incremental data synchronization from the destination database to the source database in the unit of MB/s.   </ul>   |