# Create a database user

Before using the data migration or synchronization feature of OceanBase Migration Service (OMS), you must create dedicated database users in the source and destination databases for the data migration or synchronization task and grant corresponding privileges to these users.

## Create drc_user

You need to create a user under the `SYS` tenant of OceanBase Database, which is used by OMS for authentication when it consumes Clog logs from OceanBase Database.

The username and password must be the same with `drc_user` and `drc_password` in the OMS deployment configuration file `config.yaml`.

```unknow
CREATE USER <drc_user> IDENTIFIED BY <drc_password>;
GRANT SELECT ON OCEANBASE.* TO <drc_user>;
```

## Create __oceanbase_inner_drc_user

If you want to migrate data from a table without a primary key, create a user and grant privileges to the user as needed before migration.

* When you migrate data from a MySQL tenant of OceanBase Database, create the `__oceanbase_inner_drc_user` user.

  * Create the user

    ```sql
    create user __oceanbase_inner_drc_user identified by '<password>';
    ```

  * Grant privileges

    ```sql
    grant select on *.* to __oceanbase_inner_drc_user;
    ```

* When you migrate data from an Oracle tenant of OceanBase Database, create the `__OCEANBASE_INNER_DRC_USER` user.

  * Create the user

    ```sql
    create user '__OCEANBASE_INNER_DRC_USER'@'%' IDENTIFIED BY '<password>';
    ```

  * Grant privileges

    |  OceanBase Database version   |                                                                                                                                                                                                                 Statements for granting privileges                                                                                                                                                                                                                  |
    |-------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
    | Versions earlier than V2.2.77 | ``` grant create session to '__OCEANBASE_INNER_DRC_USER'; grant select on *.* to '__OCEANBASE_INNER_DRC_USER'; ```                                                                                                                                                                                                                                                                                                                       |
    | V2.2.77 and later versions    | ``` grant create session to '__OCEANBASE_INNER_DRC_USER'; ```  You can grant the `select` privilege on database tables to be migrated in either of the following ways: <ul><li>Grant system privileges.<br> ```grant select any table to '__OCEANBASE_INNER_DRC_USER';``` <li> Grant privileges on specific database table objects. <br> ``` grant select on {schema}.{table} to '__OCEANBASE_INNER_DRC_USER'; ```  |

## Create a MySQL/TiDB database user

The procedure for creating and authorizing a MySQL user is the same as that for creating and authorizing a TiDB database user.

1. Log on to the MySQL/TiDB database.

2. Create a user in the MySQL/TiDB database for data migration or synchronization.

   ```shell
   CREATE USER '<username>'@'<host_name>' IDENTIFIED BY '<password>';
   ```

   | Parameter |                                                                                  Description                                                                                  |
   |-----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   | username  | The account to be created.                                                                                                                                                    |
   | host      | The host from which the account is allowed to log on to the database. To allow the account to log on to the database from any host, set this parameter to a percent sign (%). |
   | password  | The password of the account.                                                                                                                                                  |

3. Use the `GRANT` statement to grant privileges to the created database user. For more information, see [User privileges](../3.users-and-privileges/2.user-privileges.md).

## Create an Oracle database user

1. Log on the Oracle database.

2. Create a user in the Oracle database for data migration or synchronization.

   ```shell
   CREATE USER <username> IDENTIFIED BY "<password>";
   ```

3. Use the `GRANT` statement to grant privileges to the created database user. For more information, see [User privileges](../3.users-and-privileges/2.user-privileges.md).

## Create an OceanBase Database user

For more information about how to manage the user privileges of an OceanBase database, see the OceanBase Database Administrator Guide.

1. Log on to the OceanBase database as the system administrator.

2. Create a user in the OceanBase database for data migration or synchronization.

   ```javascript
   CREATE USER '<oms01>' IDENTIFIED BY '<123456>';
   ```

3. Use the `GRANT` statement to grant privileges to the created database user. For more information, see [User privileges](../3.users-and-privileges/2.user-privileges.md).