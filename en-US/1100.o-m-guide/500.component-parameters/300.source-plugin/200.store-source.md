# StoreSource

## Starter class

connector-source-store.jar

com.oceanbase.oms.connector.source.store.MultiStoreSourceBooster

## [Metadata] clients

* Description: specifies the necessary information for connecting to the store.

* Default value: None. This parameter is required.

* Value range:

   ```JSON
   {
   "clientId": "the unique ID, which is also the source_id specified by Condition to determine the client whose generated heartbeats are passed. A subtopic is recommended",
   "subtopic": "store subtopic",
   "clusterManagerUrl": "store url/cm url",
   "filterConditions": "store whitelist" // This parameter takes effect only for logical tables. Physical tables depend on the Conditions parameter. Therefore, this parameter does not take effect for physical tables.
   }
   ```

* Supported version: OMS Community Edition V3.3.1-CE and later.

## [Metadata] username

* Description: specifies the username for connecting to the store (if the CM component is involved).

* Default value: None.

* Value type: String.

* Supported version: OMS Community Edition V3.3.1-CE and later.

## [Metadata] password

* Description: specifies the password for connecting to the store (if the CM component is involved).

* Default value: None.

* Value type: String.

* Supported version: OMS Community Edition V3.3.1-CE and later.

## [Metadata] dbType

* Description: specifies the type of the database where the store belongs.

* Default value: None. This parameter is required.

* Value range: MYSQL, OB_MYSQL, OB_ORACLE, ORACLE, DB2_LUW, POSTGRESQL, ..., DbTypeEnum

* Supported version: OMS Community Edition V3.3.1-CE and later.

* Note: The intermediate layer has the sourceType parameter. If the dbType parameter is absent, the sourceType parameter is used as dbType. By default, the dbType parameter in the source.json file prevails.

## [Checkpoint information] checkpoint

* Description: specifies the startup checkpoint of the store.

* Default value: None. This parameter is required.

* Value type: JSON.

   ```JSON
   {
   "clientId as the key": "timestamp as the value" // Here clientId is the one configured in clients.
   }
   ```

* Supported version: OMS Community Edition V3.3.1-CE and later.

## [Store parameters] connectionTimeoutSec

* Description: specifies the timeout period of store connections.

* Default value: 120.

* Value type: int.

* Supported version: OMS Community Edition V3.3.1-CE and later.

## [Store parameters] maxRetries

* Description: specifies the maximum allowed number of retries for pulling data from the store.

* Default value: 1000.

* Value type: int.

* Supported version: OMS Community Edition V3.3.1-CE and later.

## [Cyclical replication prevention] askSelfUnit

* Description: specifies whether to request only the data generated by the data replication center (DRC).

* Default value: false.

* Value type: Boolean.

* Supported version: OMS Community Edition V3.3.1-CE and later.

## [Cyclical replication prevention] blackRegionNo

* Description: specifies the number of the region that is not involved in data migration, which is used to prevent cyclical replication.

* Default value: Null, which indicates no filtering

* Value type: int.

* Supported version: OMS Community Edition V3.3.1-CE and later.

## [Cyclical replication prevention] drcMarkTable

* Description: specifies the transaction table that prevents cyclical replication and use.

* Default value: Null.

* Value type: String.

* Supported version: OMS Community Edition V3.3.1-CE and later.

## [Cyclical replication prevention] drcMarkDb

* Description: specifies the database in which the transaction table that prevents cyclical replication and use is located.

* Default value: Null.

* Value type: String.

* Supported version: OMS Community Edition V3.3.1-CE and later.

## [DDL] ignoreDdl

* Description: specifies whether to ignore DDL statements.

* Default value: true.

* Valid values: true and false.

* Supported version: OMS Community Edition V3.3.1-CE and later.

## [Transaction splitting] splitThreshold

* Description: specifies the threshold for splitting a large transaction.

* Default value: 128.

* Value type: int.

* Supported version: OMS Community Edition V3.3.1-CE and later.

## [Store parameters] storeProperties

* Description: specifies the store client parameters that are transparently transmitted.

* Default value: None.

* Valid values: JSON KV

* Supported version: OMS Community Edition V4.0.0-CE and later.

## [Store parameters] sourceBatchMemorySize

* Description: specifies the maximum number of records for batch execution (`recordBatch`) in a transaction. The value is set based on the JVM memory. A transaction will be split for synchronization when either `recordBatch` or `recordBatch` is reached.

* Default value: 4194304, in bytes.

* Value type: int.

* Supported version: OMS Community Edition V4.1.1-CE and later.
