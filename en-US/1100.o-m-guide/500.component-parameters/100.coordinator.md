# Coordinator

The configuration path of the Coordinator is `conf/coordinator.json`.

## [JVM] connectorJvmParam

* Description: specifies JVM parameters.

* Default value: None.

* Valid values: JVM parameters.

* Supported versions: OceanBase Migration Service (OMS) Community Edition V3.3.1 and later.

## [Batch distribution] maxRecordCapacity

* Description: specifies the size of the dispatcher queue.

* Default value: 16384.

* Valid values: integer values.

* Supported versions: OMS Community Edition V3.3.1 and later.

## [Batch distribution] bridgeQueueSize

* Description: specifies the length of the intermediate queue.

* Default value: 256.

* Valid values: integer values.

* Supported versions: OMS Community Edition V3.3.1 and later.

## [Batch distribution] shuffleMinBatchSize

* Description: specifies the minimum batch size. It is used together with `ShuffleRecordDispatcher`.

   `ShuffleRecordDispatcher` distributes messages that are synchronized to Kafka, RocketMQ, and DataHub instances, to improve the efficiency of concurrent message distribution.

* Default value: `20`.

* Valid values: integer values. The value must be smaller than that of `shuffleMaxBatchSize`.

* Supported versions: OMS Community Edition V3.3.1 and later.

## [Batch distribution] shuffleMaxBatchSize

* Description: specifies the maximum batch size. It is used together with `ShuffleRecordDispatcher`.

* Default value: 64.

* Valid values: integer values.

* Supported versions: OMS Community Edition V3.3.1 and later.

## [Batch distribution] shuffleFlushIntervalMs

* Description: specifies the maximum time to wait before sending a batch. It is used together with `ShuffleRecordDispatcher`.

* Default value: `100ms`.

* Valid values: integer values.

* Supported versions: OMS Community Edition V3.3.1 and later.

## [Batch distribution] shuffleBucketMaxInFlightBatchSize

* Description: specifies the number of messages without an ACK in the same bucket. It is used together with `ShuffleRecordDispatcher`.

* Default value: `1` for incremental synchronization and `-1` for full migration. The value `-1` indicates no limit.

* Valid values: integer values.

* Supported versions: OMS Community Edition V3.3.1 and later.

## [Batch distribution] shuffleBucketSize

* Description: specifies the bucket size, which indicates the number of concurrent buckets. It is used together with `ShuffleRecordDispatcher`.  

* Default value: None. This parameter is required.

* Valid values: integer values.

* Supported versions: OMS Community Edition V3.3.1 and later.

## [Transaction writing] useTxId

* Description: specifies whether to use transaction IDs.

* Default value: false.

* Valid values: Boolean values.

* Supported versions: OMS Community Edition V3.3.1 and later.

## [Transaction writing] antiLoopMode

* Description: specifies whether to enable the anti-loop mode for the transaction table.

* Default value: false.

* Valid values: `true` and `false`.

* Supported versions: OMS Community Edition V3.3.1 and later.

## [Tables without a primary key] obHiddenPrimaryKeySyncDestColumn

* Description: specifies the name of a column into which a hidden column in OceanBase Database is converted.

* Default value: OMS_PK_INCRMT.

* Valid values: string values.

* Supported versions: OMS Community Edition V3.3.1 and later.

## [Tables without a primary key] rowidExtendedColumns

* Description: specifies the names of the four columns into which the Oracle ROWID column is converted.

* Default value: OMS_OBJECT_NUMBER,OMS_RELATIVE_FNO,OMS_BLOCK_NUMBER,OMS_ROW_NUMBER.

* Valid values: string values.

* Supported versions: OMS Community Edition V3.3.1 and later.

## [Tables without a primary key] noPkOrUkAllowed

* Description: specifies whether to support synchronization without a PRIMARY KEY (PK), NOT NULL, or Unique Key (UK) constraint. It is the main control parameter.

* Default value: true. Specify the value based on the types of the source and destination.

* Valid values: Boolean values.

* Supported versions: OMS Community Edition V3.3.1 and later.

## [HTTP API] listenPort

* Description: specifies the HTTP open port.

* Default value: 0, indicating a random port.

* Valid values: A port number greater than 30000 is recommended to avoid conflicts.

* Supported versions: OMS Community Edition V3.3.1 and later.

## [DDL] skipDdl

* Description: specifies the skipped DDL statements.

* Default value: None.

* Valid values: JSON arrays.

* Supported versions: OMS Community Edition V3.3.1 and later.

## [DDL] filterComment

* Description: specifies whether to filter comments in DDL statements.

* Default value: false.

* Valid values: Boolean values.

* Supported versions: OMS Community Edition V3.3.1 and later.

## [DDL] shuffleDdlToAllRoute

* Description: specifies whether to synchronize DDL statements to all queues when `shuffleRecordDispatcher` is specified.

* Default value: false.

* Valid values: Boolean values.

* Supported versions: OMS Community Edition V4.0.0 and later

## [DDL] charsetMapping

* Description: specifies the DDL character set mapping.

* Default value: Null.

* Supported versions: OMS Community Edition V3.3.1 and later.

## [DDL] collationMapping

* Description: specifies the DDL collation mapping.

* Default value: Null.

* Supported versions: OMS Community Edition V3.3.1 and later.

## [Error handling] runIgnoreError

* Description: specifies whether to exit when table synchronization fails due to an exception.

* Default value: false.

* Valid values: Boolean values.

* Supported versions: OMS Community Edition V4.0.0 and later

## [Filtering] allowRecordTypes

* Description: specifies the message type for link-level filtering.

* Default value: By default, messages are not filtered.

* Valid values: `ROW`, `DELETE`, `UPDATE`, `INSERT`, `HEARTBEAT`, and `REPLACE`. The value is a comma-delimited string.

* Supported versions: OMS Community Edition V3.3.1 and later.

## [Specific scenarios] intervalTypeFmt

* Description: specifies the format of the interval type.

* Default value: None. The format of the interval type is obtained by querying the database.

* Supported versions: OMS Community Edition V3.3.1 and later.

## [Specific scenarios] timestamptzConvert

* Description: specifies whether to convert the Asia/Shanghai time zone to GMT+8:00.

* Default value: true if the source is an Oracle tenant of OceanBase Database or an Oracle database, and false if otherwise.

* Valid values: Boolean values.

* Supported versions: OMS Community Edition V3.3.1 and later.

## [Case sensitivity] caseStrategy

* Description: specifies the case-sensitivity strategy.

* Default value: FOLLOW_SOURCE, which specifies to follow the case in the source database.

* Valid values: `DEFAULT`, `FOLLOW_SOURCE`, `UPPER`, and LOWER.

* Supported versions: OMS Community Edition V3.3.1 and later.

## [Case sensitivity] isCaseSensitive

* Description: specifies whether to enable case sensitivity.

* Default value: false.

* Valid values: Boolean values.

* Supported versions: OMS Community Edition V3.3.1 and later.

## [Hotkey merge] hotKeyMerge

* Description: specifies whether to enable hotkey merge.

* Default value: false.

* Valid values: Boolean values.

* Supported versions: OMS Community Edition V3.3.1 and later.

## [Hotkey merge] hotKeyTable

* Description: specifies to initialize the hotkey table.

* Default value: None.

* Valid values: JSON arrays.

   For example: [{"schema":"db1","table":"table1"},{"schema":"db1","table":"table1"}]

* Supported versions: OMS Community Edition V3.3.1 and later.

## [Hotkey merge] mergeDelayThreshold

* Description: specifies the number of accumulated keys for determining a hotkey.

* Default value: 120.

* Valid values: integer values.

* Supported versions: OMS Community Edition V3.3.1 and later.

## [Statistics] enableDmlDdlTypeStatistics

* Description: specifies whether to enable DDL/DML statistics collection.

* Default value: false.

* Valid values: Boolean values.

* Supported versions: OMS Community Edition V3.3.1 and later.

## [Statistics] reportIntervalSec

* Description: specifies the interval for generating checkpoints, heartbeat packets, or diagnose files.

* Default value: `5`.

* Valid values: integer values.

* Supported versions: OMS Community Edition V3.3.1 and later.

## [Special scenarios] systemDefaultTimezone

* Description: specifies the time zone for reading the time.

* Default value: the system time zone.

* Valid values: time zones.

* Supported versions: OMS Community Edition V3.3.1 and later.

## [Specific scenarios] db2Mode

* Description: specifies the mode of the DB2 LUW database.

* Default value: normal.

* Valid values: `oracle` and `normal`.

* Supported versions: OMS Community Edition V3.3.1 and later.

## [Specific scenarios] mysqlVersion

* Description: specifies the version of the source MySQL database.

* Default value: None.

* Valid values: MySQL database versions.

* Supported versions: OMS Community Edition V3.3.1 and later.

## [Throttling] throttleRps

* Description: specifies whether to limit the RPS.

* Default value: `none`, which specifies not to limit the RPS.

* Value type: integer values and `none`.

* Supported versions: OMS Community Edition V3.3.1 and later.

## [Throttling] throttleIOPS

* Description: specifies whether to limit the IOPS, in bytes.

* Default value: `none`, which specifies not to limit the memory.

* Value type: integer values and `none`.

* Supported versions: OMS Community Edition V3.3.1 and later.

## [Throttling] throttleRecordBound

* Description: specifies the number of records within the framework.

* Default value: `none`, which specifies not to limit the number of records.

* Value type: integer values and `none`.

* Supported versions: OMS Community Edition V3.3.1 and later.

## [Throttling] throttleMemoryBound

* Description: specifies whether to limit the memory, in bytes.

* Default value: `none`, which specifies not to limit the memory.

* Value type: integer values and `none`.

* Supported versions: OMS Community Edition V3.3.1 and later.

## [Precheck] [Full migration] checkDstTableEmpty

* Description: specifies whether to check whether a table is empty.

* Default value: `true`.

* Valid values: `true` and `false`.

   If a project is created not for data restore, OMS Community Edition checks whether the destination table is empty when the project is started for the first time. If you set the parameter to `true`, an error is reported if the destination table is empty. If you set the parameter to `false`, no error is reported if the destination table is empty.

* Supported versions: OMS Community Edition V4.0.0 and later.

## [HBase] mode

* Description: specifies the running mode during full migration or incremental synchronization from an HBase database to OBKV.

* Default value: local

* Valid values: `local` and `platform`.

   `local` indicates the local running mode, and `platform` indicates that OMS Community Edition runs in a computing platform, which can only be a Flink computing platform at present.

* Supported versions: OMS Community Edition V4.2.0 and later.

## [Hbase] platform

* Description: specifies the parameters of OMS Community Edition when it runs in a computing platform during full migration or incremental synchronization from an HBase database to OBKV. This field takes effect only when you set `mode` to `platform`.

* Default value: None.

* Valid values: {}.

* Supported versions: OMS Community Edition V4.2.0 and later.
