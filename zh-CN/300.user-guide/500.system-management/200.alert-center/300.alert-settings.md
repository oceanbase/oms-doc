# 告警设置

OceanBase 迁移服务（OceanBase Migration Service，OMS）社区版支持通过管理控制台页面，配置告警内置监控项、告警阈值和告警频率，并支持新建、编辑和删除告警通道。 

## 背景信息

您可以通过 OMS 社区版的 **告警设置** 页面，对数据迁移项目进行不同保护级别对应的阈值设置。

OMS 社区版支持的告警级别包括 **无保护** 、 **高保护** 、 **中保护** 和 **低保护** ：

* 无保护：无需告警，适用于短期迁移或实时性要求较低的业务场景。

* 高保护：适用于延迟要求极高的业务场景。

  高保护的触发条件如下：

  * 同步延迟大于设定的阈值。

  * 结构迁移或全量任务中断的时长大于设定的阈值。

* 中保护：适用于延迟要求较高的业务场景，其设定的阈值需要大于、等于高保护设置的阈值。

* 低保护：适用于延迟要求不高的业务场景，其设定的阈值需要大于、等于中保护设置的阈值。
  
Admin 用户可以修改各个保护级别的 **告警阈值** 和 **告警频率**，普通用户可以为自己的数据同步项目标记告警级别，但仅支持查看各个保护级别的 **告警阈值** 和 **告警频率**。

## 告警设置

1. 登录 OMS 社区版控制台。

2. 在左侧导航栏，单击 **系统管理** \> **告警**。

3. 在 **告警** 页面，单击 **告警设置** 页签。

4. 在 **告警设置** 页面，根据业务需求，设置 **高保护**、 **中保护**、 **低保护** 的 **告警阈值** 和 **告警频率**。


   | 保护级别 |  参数  |                        描述                        |
   |------|------|--------------------------------------------------|
   | 高保护  | 同步延迟 | 设定范围为 1 秒 \~ 5 分钟。                               |
   | 高保护  | 中断时间 | 设定范围为 1 秒 \~ 5 分钟。                               |
   | 中保护  | 同步延迟 | 设定范围为 30 秒 \~ 10 分钟。                             |
   | 中保护  | 中断时间 | 设定范围为 30 秒 \~ 10 分钟。                             |
   | 低保护  | 同步延迟 | 设定范围为 5 分钟 \~ 3 小时。                              |
   | 低保护  | 中断时间 | 设定范围为 5 分钟 \~ 3 小时。                              |
   | 告警频率       || 默认每 3 分钟发送一次。您可以根据业务需求进行设置，设定范围为 1 分钟 \~ 600 分钟。 |

5. 设置成功后，您可以在 **数据迁移** 页面，查看和修改告警等级。

   1. 在左侧导航栏，单击 **数据迁移**。
   
   2. 在 **迁移项目列表** 页面，单击目标迁移项目后的 **...** \> **修改告警等级**。
   
   3. 在 **修改告警等级** 对话框，选中需要的告警等级。
   
   4. 单击 **提交**。