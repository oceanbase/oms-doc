# 新建 MySQL 数据源

配置好数据源是创建数据迁移或数据同步项目的前提。本文为您介绍如何在 OceanBase 迁移服务（OceanBase Migration Service，OMS）社区版中新建 MySQL 数据源。

## 前提条件

* 已获取相关数据库的 IP 地址和端口号。

* 已存在用于数据迁移的数据库用户。

  建议您为数据迁移项目创建一个专属的数据库用户，该用户必须具备相关的数据操作权限。详情请参见 [创建数据库用户](../300.create-a-database-user.md)。

## 操作步骤

1. 登录 OMS 社区版控制台。

2. 在左侧导航栏，单击 **数据源管理**。

3. 在 **数据源管理** 页面，单击右上角的 **新建数据源**。

4. 在 **新建数据源** 对话框，选择 **数据源类型** 为 **MySQL**。

5. 配置各项参数。

   |   **参数**    |                **描述**                      |
   |-------------|--------------------------------------|
   | 数据源标识       | 建议使用中文、数字和字母的组合。名称中不能包含空格，长度不能超过 32 个字符。<main id="notice" type='notice'><h4>注意</h4><p>数据源标识在 OMS 社区版系统内全局唯一。</p></main>                                                                                                                                                                                                                                                                                            |
   | 地域          | 从下拉列表中选择数据源所属的地域即部署 OMS 社区版时配置的 `cm_region` 参数）。<main id="notice" type='notice'><h4>注意</h4><ul><li> 仅多地域场景下会显示该参数。   <li>请确保数据源与地域的映射关系保持一致，否则可能导致迁移同步性能较差。    </ul> </main>                                                                                                               |
   | 数据库属性       | 包括 **主库**、**主库+备库** 和 **备库**。配置主库时，您可以根据自身需求，选择是否勾选 **增量同步时，允许 OMS 自动向该实例写入心跳数据，以解决源端在无业务写入场景下的高延时问题**。 <ul><li> 如果勾选，OMS 社区版会向对应的 MySQL 数据库创建并更新 `drc.heartbeat` 表，从而推动 Store 位点，避免出现在源端无业务的情况下，OMS 社区版的延迟信息显示过长的问题。<main id="notice" type='notice'><h4>注意</h4><p>此时，MySQL 数据库用户需要具备创建表、写表的权限。详情请参见 [创建和更新心跳表](../../600.data-migration/1600.migration-function-introduction/700.create-heartbeat.md)。</p></main>   <li> 如果不勾选，则 OMS 社区版不会创建 `drc.heartbeat` 表。    |
   | 主机 IP       | 数据库宿主机的 IP。您需要输入物理 RDS 的地址，请勿填写中间件的地址。                                                                                                                                                                                                                                                                                                                   |
   | 端口          | 数据库宿主机 IP 的端口号。                                                                                                                                                                                                                                                                                                                                          |
   | 用户名         | 用于数据迁移或数据同步的 MySQL 数据库的用户名称。                                                                                                                                                                                                                                                                                                                             |
   | 密码          | 数据库用户的密码。                                                                                                                                                                                                                                                                                                                                                |
   | DB Name（可选） | MySQL 数据库的名称。                                                                                                                                                                                                                                                                                                                                            |
   | 备注（可选）      | 数据源的备注信息。                                                                                                                                                                                                                                                                                                                                                |

6. 单击 **测试连接**，验证 OMS 社区版和数据库的网络连接，以及用户名和密码的有效性。数据库可以作为源端或目标端。

7. 测试连接通过后，单击 **确定**。
