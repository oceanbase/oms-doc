# 关联 OCP

OceanBase 迁移服务（OceanBase Migration Service，OMS）社区版支持关联 OceanBase 云平台（OceanBase Cloud Platform，OCP），本文为您介绍如何添加、修改和删除关联 OCP。

## 背景信息

OceanBase 云平台（OceanBase Cloud Platform，OCP）是 OceanBase 数据库的管控台，您可以通过 OCP，完成 OceanBase 集群的创建、运维和监控等操作。当 OMS 社区版的运行涉及 OceanBase 数据源时，会通过 OCP 获取相关信息，所以需要关联 OCP。OMS 社区版会通过 JDBC 直连 OCP 的元信息库，来查询数据迁移流程中需要使用的信息。

## 使用限制

目前 OMS 社区版支持适配 2.3、2.4、2.5 和 3.1 版本的 OCP。

## 添加关联 OCP 

1. 登录 OMS 社区版控制台。

2. 在左侧导航栏，单击 **系统管理** \> **关联 OCP**。

3. 在 **关联 OCP** 页面，单击右上角的 **添加关联 OCP**。

4. 在 **添加关联 OCP** 对话框，配置各项参数。

   |   参数    |                                              描述                                              |
   |---------|----------------------------------------------------------------------------------------------|
   | OCP 名   | 您可以自定义 OCP 的名称，支持 3\~32 个字符。                                                                 |
   | 服务地址    | OMS 社区版可以访问到的 OCP 的登录地址，格式为 IP:端口。                                                           |
   | 地域信息    | 选择 OCP 所在的地域。                                                                                |
   | API 用户名 | OMS 社区版可以访问到的登录 OCP 的用户名。                                                                    |
   | API 密码  | OMS 社区版可以访问到的登录 OCP 的密码。                                                                     |
   | 元数据库地址  | OCP 元数据库的 OBProxy 地址。 您可以登录 OCP 控制台，在左侧导航栏，单击 **OBProxy**，查看 OBProxy 集群的信息。 |
   | 元数据库端口  | OCP 元数据库的端口。                                                                                 |
   | 元数据库用户名 | OCP 元数据库的用户名。                                                                                |
   | 元数据库密码  | OCP 元数据库的密码。                                                                                 |
   | 元数据库名   | OCP 元数据库的名称，通常默认为 ocp。                                                                       |
   | 版本      | OCP 的版本号。                                                                                    |

5. 单击 **测试连接**。

6. 测试通过后，单击 **提交**。

   您也可以 **取消** 添加操作，返回 **OCP 列表** 页面。

## 修改关联 OCP 

1. 在 **关联 OCP** 页面，单击目标 OCP 后的 **修改**。

2. 在 **修改关联 OCP** 对话框，修改相应的参数信息。

   >**注意**
   >
   >不支持修改关联 OCP 的 **OCP 名**、 **服务地址** 和 **地域信息**。

3. 单击 **测试连接**。

4. 测试通过后，单击 **提交**。

   您也可以 **取消** 修改操作，返回 **OCP 列表** 页面。

## 删除关联 OCP 

您需要释放被关联的数据源正在运行中的数据迁移项目，再进行 OCP 信息的删除。

1. 在 **关联 OCP** 页面，单击目标 OCP 后的 **删除**。

2. 在弹出的对话框，单击 **确定**。