# 添加 OceanBase 社区版数据源

配置好数据源是创建数据迁移项目的前提。启动数据迁移项目前，您必须添加 OceanBase 社区版作为源端或者目标端的数据源。本文为您介绍如何在 OceanBase 迁移服务（OceanBase Migration Service，OMS）社区版中添加 OceanBase 社区版数据源。

## 前提条件

* 已获取相关数据库的 IP 地址和端口号。

* 已存在用于数据迁移的数据库用户。
  
* 已部署 OBProxy。

建议您为数据迁移项目创建一个专属的数据库用户，该用户必须具备相关的数据操作权限。详情请参见 [用户权限说明](../../5.data-migration/2.user-permission-settings.md)。

## 操作步骤

1. 登录 OMS 社区版控制台。

2. 在左侧导航栏，单击 **数据源管理**。

3. 在 **数据源列表** 页面，单击右上角的 **添加数据源**。

4. 在 **添加数据源** 面板中，配置各项参数。**终端类型** 默认为 **OceanBase-CE**。
   
    |   参数    |    描述       |
   |-------------|-------------|
   | 数据源标识       | 数据源的名称。 支持中文、数字和字母，区分大小写，长度为 1\~32 个字符。     |
     | 连接方式        | 包括 **手动输入** 和 **命令行连接串**。<ul><li>**手动输入**：手动输入 OceanBase 数据库的公网地址和端口。   <li>**命令行连接串**：输入命令行连接串（可选）。    |
   | 主机 IP       | 数据库宿主机的 IP。      |
   | 端口          | 当前 OceanBase 社区版集群的 OBProxy 端口。    |
   | 租户名         | OceanBase 社区版租户的名称。                                                 |
   | 集群名         | OceanBase 社区版租户所在集群的名称。                               |
   | 租户类型        | OceanBase 社区版租户的类型，目前仅支持 MySQL 租户。           |
   | 所属 OCP（可选）      | 从下拉列表中选择已关联的所属 OCP。<ul><li>请自行判断，当前数据源和所选 OCP 是否为被管理关系。<li>设置所属 OCP 是为了 OMS 社区版正常获取 OceanBase 社区版的增量日志，空置本选项会造成增量迁移、增量同步和反向增量选项无法被选择。</ul>如果列表中无目标 OCP，请单击 **添加 OCP**，在 **添加关联 OCP** 中配置各项参数。详情请参见 [关联 OCP](../../8.system-management/3.associate-ocp.md)。                           |
   | 用户名         | 用于数据迁移的 OceanBase 社区版的用户名称。 建议您为数据迁移项目创建单独的数据库用户。    |
   | 密码          | 数据库用户的密码。     |
   | DataBase Name（可选） | 数据库的名称。   |
   | 备注（可选）          | 数据源的备注信息。  |

5. 单击 **测试连接**，验证 OMS 社区版和数据库的网络连接，以及用户名和密码的有效性。数据库可以作为源端或目标端。

6. 测试连接通过后，单击 **添加**。